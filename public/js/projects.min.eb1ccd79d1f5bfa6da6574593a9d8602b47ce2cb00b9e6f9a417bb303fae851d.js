document.addEventListener("DOMContentLoaded",function(){const t=document.getElementById("projects-grid"),n=document.querySelectorAll(".filter-tag");let e={status:[],tech:[]};function s(){const n=t.querySelectorAll(".project-card");n.forEach(t=>{let n=!0;if(e.status.length>0){const s=t.dataset.status;e.status.includes(s)||(n=!1)}if(e.tech.length>0&&n){const s=t.dataset.techs.split(","),o=e.tech.some(e=>s.includes(e));o||(n=!1)}t.style.display=n?"":"none",n?(t.classList.add("fade-in"),t.classList.remove("fade-out")):(t.classList.add("fade-out"),t.classList.remove("fade-in"))}),o(),i()}function o(){n.forEach(t=>{const n=t.dataset.filter,s=t.dataset.value;e[n].includes(s)?t.classList.add("active"):t.classList.remove("active")})}function i(){const n=t.querySelectorAll('.project-card:not([style*="display: none"])'),e=document.getElementById("empty-message");if(n.length===0){if(!e){const e=document.createElement("div");e.id="empty-message",e.className="empty-state",e.textContent="No projects match the selected filters.",t.appendChild(e)}}else e&&e.remove()}n.forEach(t=>{t.addEventListener("click",()=>{const n=t.dataset.filter,o=t.dataset.value,i=e[n].indexOf(o);i===-1?e[n].push(o):e[n].splice(i,1),s(),a()})});function a(){const t=new URLSearchParams;e.status.length&&t.set("status",e.status.join(",")),e.tech.length&&t.set("tech",e.tech.join(","));const n=`${window.location.pathname}${t.toString()?"?"+t.toString():""}`;window.history.pushState({},"",n)}function r(){const o=new URLSearchParams(window.location.search),t=o.get("status");t&&(e.status=t.split(","));const n=o.get("tech");n&&(e.tech=n.split(",")),(t||n)&&s()}r()})